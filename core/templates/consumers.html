{% extends "layouts/base.html" %}

{% load static %}
{% get_media_prefix as MEDIA_URL %}

{% block title %} Consumers {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
    .gender_jugu {color: blue; font-weight: bold; font-size: 9px !important;}
</style>
{% endblock stylesheets %}

{% block content %}






    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4">
        <div class="d-block mb-4 mb-md-0">
            <nav aria-label="breadcrumb" class="d-none d-md-inline-block">
                <ol class="breadcrumb breadcrumb-dark breadcrumb-transparent">
                    <li class="breadcrumb-item"><a href="#"><span class="fas fa-home"></span></a></li>
                    <li class="breadcrumb-item"><a href="#">Volt</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Users List</li>
                </ol>
            </nav>
            <h2 class="h4">Users List</h2>
            <p class="mb-0">Your web analytics dashboard template.</p>
        </div>
        <div class="btn-toolbar mb-2 mb-md-0">
            <a href="#" class="btn btn-sm btn-dark"><span class="fas fa-plus me-2"></span> New User</a>
            <div class="btn-group ms-2 ms-lg-3">
                <button type="button" class="btn btn-sm btn-outline-primary">Share</button>
                <button type="button" class="btn btn-sm btn-outline-primary">Export</button>
            </div>
        </div>
    </div>
    <div class="table-settings mb-4">
        <div class="row justify-content-between align-items-center">
            <div class="col-9 col-lg-4 d-flex">
                <div class="input-group me-2 me-lg-3">
                    <span class="input-group-text"><span class="fas fa-search"></span></span>
                    <input type="text" class="form-control" placeholder="Search">
                </div>
                <select class="form-select w-25" aria-label="Message select example 2">
                    <option selected>All</option>
                    <option value="1">Active</option>
                    <option value="2">Inactive</option>
                    <option value="3">Pending</option>
                    <option value="3">Canceled</option>
                </select>
            </div>
            <div class="col-3 col-lg-8 text-right">
                <div class="btn-group me-1">
                    <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split m-0 p-1"
                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="icon icon-sm icon-gray pt-1">
                            <span class="fas fa-sliders-h"></span>
                        </span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end pb-0">
                        <span class="small ps-3 fw-bold text-dark">Show</span>
                        <a class="dropdown-item d-flex fw-bold" href="#">10 <span class="icon icon-small ms-auto"><span
                                    class="fas fa-check"></span></span></a>
                        <a class="dropdown-item fw-bold" href="#">20</a>
                        <a class="dropdown-item fw-bold rounded-bottom" href="#">30</a>
                    </div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split m-0 p-1"
                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="icon icon-sm icon-gray pt-1">
                            <span class="fas fa-cog"></span>
                        </span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-xs dropdown-menu-end pb-0">
                        <span class="small ps-3 fw-bold text-dark">Show</span>
                        <a class="dropdown-item d-flex fw-bold" href="#">10 <span class="icon icon-small ms-auto"><span
                                    class="fas fa-check"></span></span></a>
                        <a class="dropdown-item fw-bold" href="#">20</a>
                        <a class="dropdown-item fw-bold rounded-bottom" href="#">30</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card card-body shadow-sm table-wrapper table-responsive">
        <div class="d-flex mb-3">
            <select class="form-select fmxw-150" aria-label="Message select example">
                <option selected>Bulk Action</option>
                <option value="1">Send Email</option>
                <option value="2">Change Group</option>
                <option value="3">Delete User</option>
            </select>
            <button class="btn btn-sm px-3 btn-secondary ms-3">Apply</button>
        </div>
        <table class="table user-table table-hover align-items-center">
            <thead>
                <tr>
                    <th class="border-bottom">
                        <div class="form-check dashboard-check">
                            <input class="form-check-input" type="checkbox" value="" id="userCheck55">
                            <label class="form-check-label" for="userCheck55">
                            </label>
                        </div>
                    </th>

                {{ consumer.get_dict_jugu.name }}
                    <th class="border-bottom">Name</th>
                    <th class="border-bottom">Last Time Provided</th>
                    <th class="border-bottom">No. Packages</th>
                    <th class="border-bottom">Verified</th>
                    <th class="border-bottom">Phone Number</th>
                    <th class="border-bottom">State & City</th>
                    <th class="border-bottom">Wives & Children</th>
      
                    <th class="border-bottom">Action</th>
                


                </tr>
            </thead>
            <tbody>





                {% for consumer in data_jugu%}

                <tr class="jugu_{% cycle 'odd' 'even' %}">
                    <td>
                        <div class="form-check dashboard-check">
                            <input class="form-check-input" type="checkbox" value="" id="userCheck2">
                            <label class="form-check-label" for="userCheck2">
                            </label>
                        </div>
                    </td>


                    <td>
                        
                        <a href="#" class="d-flex align-items-center">

                            {% if consumer.profile_img %}
                            <img src="{{ consumer.profile_img.url }}"
                                class="user-avatar rounded-circle me-3" alt="Avatar">
                            {% else %}
                                    
                            <div class="user-avatar bg-secondary me-3"> <span>{{ consumer.first_name|make_list|first|upper }}{{ consumer.last_name|make_list|first|upper }}</span></div>
                            
                            {% endif %}
                            
                            <div class="d-block">
                                
                                    <span class="fw-bold">  <span class="fa fa-user"> </span> {{ consumer.first_name }} {{ consumer.last_name }}</span>
                                <div class="small text-gray">
                                    {% if consumer.email %}
                                        {{ consumer.email }}
                                    {% else %}
                                        No email available
                                    {% endif %}
                                </div>
                            </div>
                        </a>
                    </td>



                    <td><span class="fw-normal"> <span class="fa fa-clock text-info"> </span> {{ consumer.provided_at|timesince }}</span></td>


                    <td><span class="fw-normal"><span class="fas fa-box-open text-warning me-2"></span> <span class="fw-bold">{{ consumer.num_packages }}</span> </span></td>

                    <td><span class="fw-normal"><span class="fas fa-check-circle text-success me-2"></span>{{ consumer.get_subscription_status_display }}</span>
                        <div class="small text-gray text-monospace"><span class="fa fa-id-card  me-2"> {{ consumer.id_card_num }} </span></div>
                    </td>

                    <td><span class="fw-normal"><span class="fas fa-phone text-primary me-2"></span>{{ consumer.phone_number }}</span>
                        <div class="small text-gray text-center">
                                                         
                            {% if consumer.gender == 'M' %}
                                <span class="fas fa-male text-info"></span>
                            {% elif consumer.gender == 'F' %}
                                <span class="fas fa-female text-danger"></span>
                            {% endif %}
                                {{ consumer.get_gender_display }}

                        </div>
                    </td>

                    <td><span class="fw-normal"><span class="fas fa-map-marked text-primary me-2"></span>{{ consumer.get_dict_jugu.state_city }}</span></td>

                    <td><span class="fw-normal">{{ consumer.num_wives }} <span class="fas fa-users text-primary me-2"> </span> ( {{consumer.num_children}}<span class="fa fa-baby text-success"></span></span> )</td>




                    <td>
                        <div class="btn-group">
                            <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split m-0 p-0"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="icon icon-sm pt-1">
                                    <span class="fas fa-ellipsis-h icon-dark"></span>
                                </span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <div class="dropdown-menu py-0">
                                <a class="dropdown-item rounded-top" href="#"><span
                                        class="fas fa-user-shield me-2"></span> Reset Pass</a>
                                <a class="dropdown-item" href="#"><span class="fas fa-eye me-2"></span>View Details</a>
                                <a class="dropdown-item text-danger rounded-bottom" href="#"><span
                                        class="fas fa-user-times me-2"></span>Suspend</a>
                            </div>
                        </div>
                        <span class="fas fa-times-circle text-danger ms-2" title="Delete"
                            data-bs-toggle="tooltip"></span>
                    </td>




                </tr>
            {% empty %}
            <i > No User available yet</i>

            {% endfor %}



            </tbody>
        </table>
        <div





            class="card-footer px-3 border-0 d-flex flex-column flex-lg-row align-items-center justify-content-between">
            <nav aria-label="Page navigation example">
                <ul class="pagination mb-0">
                    <li class="page-item">
                        <a class="page-link" href="#">Previous</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">1</a>
                    </li>
                    <li class="page-item active">
                        <a class="page-link" href="#">2</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">3</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">4</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">5</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
            <div class="fw-normal small mt-4 mt-lg-0">Showing <b>5</b> out of <b>25</b> entries</div>
        </div>
    </div>





{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}